---
title: "用户中心-末"
categories: Project
tags: ['用户中心']
id: "db50d919caa2c5e2"
date: 2025-07-11 18:06:21
cover: "https://wp-cdn.4ce.cn/v2/GGuaWdL.jpeg"
---

:::note
用户中心-末
:::

## 用户中心-末

### 计划

1. 多环境理论及实战 ✅
2. 项目部署 ✅
    1. 原始部署
    2. 宝塔 linux 部署
    3. 前端托管
    4. Docker 部署
    5. Docker 平台部署
3. 绑定域名
4. 跨域问题解决
5. 项目优化



### 实操

https://www.codefather.cn/course/1790943469757837313/section/1790943832527384578?contentType=text&tabKey=list#heading-50

### 笔记

#### 多环境

本地开发：localhost(127.0.0.1)

多环境：指同一套项目代码在不同的阶段需要根据实际情况来调整配置并且部署到不同的机器上。
为什么需要？

1. 每个环境互不影响

2. 区分不同的阶段：开发 / 测试 / 生产

3. 对项目进行优化：
   i. 本地日志级别

   ⅱ. 精简依赖，节省项目体积

   iⅱ. 项目的环境 / 参数可以调整，比如VM参数

针对不同环境做不同的事情。

多环境分类：

1. 本地环境（自己的电脑）localhost
2. 开发环境（远程开发）大家连同一台机器，为了大家开发方便
3. 测试环境（测试）开发 / 测试 / 产品，单元测试 / 性能测试 / 功能测试 / 系统集成测试，独立的数据库、独立的服务器
4. 预发布环境（体验服）：和正式环境一致，正式数据库，更严谨，查出更多问题
5. 正式环境（线上，公开对外访问的项目）：尽量不要改动，保证上线前的代码是“完美”运行
6. 沙箱环境（实验环境）：为了做实验

#### 部署

1. 原始部署

    - 前端：nginx
    - 后端：java、maven（也可不装）

2. 宝塔 linux 部署 —— 后端主流部署

   方便管理服务器、方便安装软件

3. 前端托管（webify、vercel、cloudflare 等） —— 前端主流部署

    - 小缺点：需要将代码放到代码托管平台上
    - 优势：不用写命令、代码更新时自动构建

4. Docker 部署

5. Docker 平台部署 —— 后端主流部署

#### 绑定域名

前端托管 —— 使用前端托管平台进行域名绑定

#### 跨域问题解决

1. 网关支持（Nginx）
2. 修改后端服务
    1. 配置 @CrossOrigin 注解
    2. 添加 web 全局请求拦截器 —— 解决跨域主流

#### 项目优化点

1. 功能扩充
    1. 管理员创建用户、修改用户信息、删除用户
    2. 上传头像
    3. 按照更多的条件去查询用户
    4. 更改权限
2. 项目登录改为分布式 session （单点登录 - redis）
3. 通用性
    1. set-cookie domain 域名更通用，比如改为 *.xxx.com
    2. 把用户管理系统 => 用户中心（之后所有的服务都请求这个后端）
4. 后台添加全局请求拦截器（统一去判断用户权限、统一记录请求日志）